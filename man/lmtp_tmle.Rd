% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimators.R
\name{lmtp_tmle}
\alias{lmtp_tmle}
\title{LMTP Targeted Maximum Likelihood Estimator}
\usage{
lmtp_tmle(
  data,
  A,
  Y,
  nodes,
  k = Inf,
  shift,
  outcome_type = c("binomial", "continuous"),
  bounds = NULL,
  learner_stack_Q = NULL,
  learner_stack_g = NULL
)
}
\arguments{
\item{data}{A data frame.}

\item{A}{A vector of column names of treatment variables.}

\item{Y}{The column name of the outcome variable.}

\item{nodes}{A list of length tau with the column names for new nodes to
be introduced at each time point. The list should be ordered following
the time ordering of the model.}

\item{k}{An integer specifying how many previous time points nodes should be
used for estimation at the given time point. Default is \code{NULL},
all time points.}

\item{shift}{A function that specifies how tratment variables should be shifted.}

\item{outcome_type}{Outcome variable type (i.e., continuous, binomial).}

\item{bounds}{An optional vector of the bounds for continuous outcomes. If NULL
the bounds will be taken as the minimum and maximum of the observed data.
Ignored if outcome type is binary.}

\item{learner_stack_Q}{An \code{sl3} learner stack for estimation of the outcome
regression.}

\item{learner_stack_g}{An \code{sl3} learner stack for estimation of the exposure
mechanism.}
}
\value{
TODO
}
\description{
LMTP Targeted Maximum Likelihood Estimator
}
\examples{
# Estimating the effect of a point treatment
set.seed(6246)
n <- 500
W <- data.frame(W1 = runif(n), W2 = rbinom(n, 1, 0.7))
A <- rpois(n, lambda = exp(3 + .3*log(W$W1) - .2*exp(W$W1)*W$W2))
Y <- rnorm(n, 1 + .5*A - .2*A*W$W2 + 2*A*tan(W$W1^2) - 2*W$W1*W$W2 + A*W$W1*W$W2, 1)
df <- data.frame(W, A, Y)
nodes <- list(c("W1", "W2"))
lmtp_tmle(df, "A", "Y", nodes, k = NULL, function(x) x + 2, "continuous",
          learner_stack_Q = sl3::make_learner(sl3::Lrnr_glm_fast),
          learner_stack_g = sl3::make_learner(sl3::Lrnr_glm_fast))
}
