% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimators.R
\name{lmtp_sdr}
\alias{lmtp_sdr}
\title{LMTP Sequential Doubly Robust Estimator}
\usage{
lmtp_sdr(
  data,
  trt,
  outcome,
  nodes,
  baseline = NULL,
  cens = NULL,
  k = Inf,
  shift,
  outcome_type = c("binomial", "continuous"),
  bounds = NULL,
  learners_outcome = NULL,
  learners_trt = NULL,
  folds = 10,
  bound = 1e-05
)
}
\arguments{
\item{data}{A data frame.}

\item{trt}{A vector of column names of treatment variables.}

\item{outcome}{The column name of the outcome variable.}

\item{nodes}{A list of length tau with the column names for new nodes to
be introduced at each time point. The list should be ordered following
the time ordering of the model.}

\item{baseline}{An optional vector of columns names for baseline covariates to be
included for adjustment at every timepoint. If \code{k = Inf}, should be \code{NULL}
and these variables should be added to the first index of \code{nodes}.}

\item{cens}{An optional vector of column names of censoring indicators the same
length as \code{A}.}

\item{k}{An integer specifying how many previous time points nodes should be
used for estimation at the given time point. Default is \code{Inf},
all time points.}

\item{shift}{A function that specifies how tratment variables should be shifted.}

\item{outcome_type}{Outcome variable type (i.e., continuous, binomial).}

\item{bounds}{An optional vector of the bounds for continuous outcomes. If NULL
the bounds will be taken as the minimum and maximum of the observed data.
Ignored if outcome type is binary.}

\item{learners_outcome}{An \code{sl3} learner stack for estimation of the outcome
regression.}

\item{learners_trt}{An \code{sl3} learner stack for estimation of the exposure
mechanism.}

\item{folds}{The number of folds to be used for cross-validation.}

\item{bound}{Determines that maximum and minimum values (scaled) predictions
will be bounded by. The default is 1e-5, bounding predictions by 1e-5 and 0.9999.}
}
\value{
TODO
}
\description{
LMTP Sequential Doubly Robust Estimator
}
\examples{
library(lmtp)
# Example 1.1
# Point treatment, continuous exposure, continuous outcome, no loss-to-follow-up
# Interested in the effect of a population wide decrease in A of 5 units
# The true value under this intervention is about 519.
set.seed(56)
n <- 1000
W <- rnorm(n, 10, 5)
A <- 23 + 5*W + rnorm(n)
Y <- 7.2*A + 3*W + rnorm(n)
ex1_dat <- data.frame(W, A, Y)
d <- function(x) x - 5
progressr::with_progress({
  fit1.1 <- lmtp_tmle(ex1_dat, "A", "Y", list(c("W")), shift = d,
                      outcome_type = "continuous", folds = 2)
})

# Example 1.2
# Point treatment, continuous exposure, continuous outcome, no loss-to-follow-up
# Interesed in the effect of a modified treatment policy where A is decreased by 15
# units only among observations whose observed A was above 80.
# The true value under this intervention is about 513.
d <- function(x) (x > 80)*(x - 15) + (x <= 80)*x
progressr::with_progress({
  fit1.2 <- lmtp_tmle(ex1_dat, "A", "Y", list(c("W")), shift = d,
                      outcome_type = "continuous", folds = 2)
})

}
